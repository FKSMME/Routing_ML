상세 Task List (설계 → 구현 → 테스트 → 배포)

모든 섹션마다 상단 게이트 체크리스트(승인/리뷰/오류 재요청/재점검/뷰어 승인)를 적용합니다.
진행은 한 번에 하나의 태스크만 실행하고, 완료 시 보고 후 사용자 승인 대기합니다.

0. 레포/요건 동기화 (준비)

 (설계) 현재 레포 구조 점검 및 아키텍처 스냅샷 정리(routing_system_architecture.mdpuml 존재 확인) 

DocumentLayout

 (설계) 요구사항 승인 워크플로우 도표 작성(게이트 포함)

 (구현) 이슈/PR 템플릿에 게이트 체크리스트 자동 포함

 (테스트) 요구 추적표(PRD ↔ 태스크 ↔ 커밋) 초안

 (배포) 브랜치 보호 규칙/코드 오너 지정

1. 데이터 파이프라인

 (설계) ITEM_INFO ↔ ROUTING_VIEW ↔ WORK_ORDER_RESULTS 스키마/조인 정의서(ITEM_CD 기준)

 (설계) Feature 사전(범주/수치, 결측 규칙, 스케일링) 문서화

 (구현) ODBC 커넥터/쿼리 모듈, 안전 형 변환·결측 처리

 (구현) 피처 빌더: 인코딩(Label/Ordinal), 표준화, VarianceThreshold, (옵션) PCA

 (구현) “외주 공정 제외” 필터 파이프라인(후보 라우팅 집계 시 적용)

 (테스트) 샘플 데이터(비식별)로 스냅샷 테스트

 (배포) 데이터 소스/시크릿 주입(.env/Key Vault)

2. 학습 서비스(trainer)

 (설계) 학습 파이프라인 설계서(HNSW, 가중치, 차원균형, 메타데이터, TB Projector export 플로우)

 (구현) trainer_ml.py 개선:

 카테고리/수치 혼합 인코딩 + 표준화 + 가중치 적용(이미 구조 있음) 

trainer_ml

 HNSW 인덱스 빌드/저장(벡터 차원 로깅) 

trainer_ml

 export_tb_projector 옵션 노출 및 메타데이터 컬럼 선택 지원 

trainer_ml

 가중치 결합은 데이터 가중치 × 도메인 가중치의 조화평균 기본값 채택 

trainer_ml

 (구현) 모델/메타 저장 규약: training_metadata.json, tb_projector/ 구조 

trainer_ml

 (테스트) 학습 시간/메모리, 재현성(seed) 검증

 (배포) 컨테이너 routing-ml-trainer 이미지화

3. 예측 서비스(predictor)

 (설계) API I/F: /predict, /candidates/save, /health, /metrics

 (구현) HNSW 로더 + Top-K(기본 10) + 임계값(기본 0.3) 파라미터 처리

 (구현) 메타-앙상블 후보 생성기: 상위 K 라우팅들을 공정별로 정렬·집계하여 3~4개의 가능한 라우팅 구조 합성(외주 제외)

 (구현) SQL 출력 매퍼: 사용자가 준 필수 컬럼 양식으로 후보를 직렬화/저장

 (테스트) 단건 ≤ 60초 / 10건 ≤ 10분 벤치마크(샘플 기준)

 (배포) 컨테이너 routing-ml-predictor 이미지화, 프로브/로깅

4. 프런트엔드(React, B안)

 (설계) 3열 레이아웃 + 카드 디자인 시스템(타임라인/후보비교/설명)

 (구현) 유사도 슬라이더 & Top-K 드롭다운(로그 기준 UI 가이드) 

gui_20250912

 (구현) 후보 라우팅 테이블(다중 행·다중 컬럼 표) 및 정렬/필터

 (구현) TensorBoard Projector 링크/뷰 경로 안내

 (테스트) 주니어 사용자 사용성 테스트(툴팁/설명 패널)

5. 출력/SQL 규격

 (설계) 대상 스키마 확정: routing_candidates, routing_candidate_operations(FK 포함)

 (구현) DDL/마이그레이션 스크립트(사용자 제공 규격 1:1 매핑)

 (구현) 저장/내보내기(INSERT/CSV)

 (테스트) 샘플 표 대비 컬럼/타입/널 제약 정합성 테스트

6. 평가/모니터링

 (설계) KPI 정의서(단계 일치율, 시간 일치율), 룰기반 베이스라인 정의

 (구현) 평가 파이프라인: GT 라우팅과의 시퀀스 매칭, 시간 오류(MAE/MAPE) 산출

 (구현) 대시보드 지표 수집(API/프런트 표출)

 (테스트) 샘플 데이터셋으로 리포트 생성

 (배포) 주간 리포트 잡/로그 보존

7. 운영/배포

 (설계) 네트워크/보안/ODBC/시크릿 설계

 (구현) Dockerfile 2종(trainer/predictor), Compose/Helm(선택)

 (구현) 프로브, 구조화 로그, 에러 알람

 (테스트) 장애 주입 테스트(모델 미존재/DB 연결 끊김)

 (배포) 단계적 롤아웃/롤백 전략

8. 문서화/전달물

 (설계) 아키텍처 다이어그램(PlantUML) 업데이트 및 저장(레포에 mdpuml 흔적) 

DocumentLayout

 (구현) README(설치/실행/모델 저장/예측/SQL 출력), 주니어용 “빠른 시작”

 (테스트) 온보딩 워크스루 점검

 (배포) 릴리스 노트, 버전 정책