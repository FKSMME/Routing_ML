# MCS Server Dashboard v5.0.0 - 사용자 가이드

## 🎨 새로운 디자인

**Version 5.0.0** 은 완전히 새롭게 디자인된 서버 관리 대시보드입니다.

### 디자인 시스템
- **Material Design 3**: Google의 최신 디자인 언어
- **Fluent Design**: Microsoft의 현대적 UI 시스템
- **다크 테마**: 눈의 피로를 줄이는 GitHub Dark 스타일

### 주요 개선 사항

#### 1. 직관적인 서비스 카드
- **큰 아이콘**: 각 서비스를 한눈에 식별
- **실시간 상태**: 온라인/오프라인 상태를 색상으로 표시
- **빠른 액션**: 각 서비스별 시작 및 접속 버튼

#### 2. 실시간 성능 모니터링
- **부드러운 차트**: 60초 분량의 실시간 데이터
- **CPU/메모리**: 시스템 리소스 사용률
- **응답 시간**: 서비스 평균 응답 시간
- **디스크 사용률**: 스토리지 모니터링

#### 3. CMD 팝업 방식
- **백그라운드 실행 제거**: 각 서비스가 독립된 CMD 창에서 실행
- **로그 확인 가능**: 각 서비스의 로그를 실시간으로 확인
- **간편한 종료**: 필요한 서비스만 선택적으로 종료 가능

---

## 🚀 시작하기

### 1. 프로그램 실행

```bash
# 프로젝트 루트에서
MCS_Server_Dashboard_v5.0.0.exe
```

또는 빌드부터 시작:

```bash
# 빌드
deploy\build_monitor_v5.bat

# 실행
MCS_Server_Dashboard_v5.0.0.exe
```

### 2. 첫 화면

프로그램을 실행하면 다음과 같은 화면이 나타납니다:

```
╔══════════════════════════════════════════════════════════╗
║  🚀 MCS Server Dashboard                                 ║
║  Version 5.0.0 • Real-time Monitoring                   ║
╚══════════════════════════════════════════════════════════╝

┌─ 빠른 작업 ─────────────────────────────────────────────┐
│  [ ▶ 모든 서비스 시작 ]  [ ⏹ 모든 서비스 중지 ]  [ 🗑 캐시 정리 ] │
└──────────────────────────────────────────────────────────┘

┌─ 서비스 상태 ───────────────────────────────────────────┐
│                                                          │
│  ┌─────────────────┐  ┌─────────────────┐              │
│  │ 🔧 Backend API  │  │ 🏠 Home Dashboard│              │
│  │ ● Online · 45ms │  │ ● Online · 23ms  │              │
│  └─────────────────┘  └─────────────────┘              │
│                                                          │
│  ┌─────────────────┐  ┌─────────────────┐              │
│  │ 🎯 Routing      │  │ 🧠 Training      │              │
│  │ ● Online · 32ms │  │ ○ Offline        │              │
│  └─────────────────┘  └─────────────────┘              │
│                                                          │
│  ● Online   ◐ Degraded   ○ Offline  • 5초마다 자동 갱신  │
└──────────────────────────────────────────────────────────┘

┌─ 시스템 성능 ───────────────────────────────────────────┐
│                                                          │
│  [CPU 차트]  [메모리 차트]                                │
│  [응답시간]  [디스크]                                     │
│                                                          │
│  CPU: 25% | Memory: 60% (8GB / 16GB) | Disk: 45% | ...  │
└──────────────────────────────────────────────────────────┘
```

---

## 📊 대시보드 탭

### 빠른 작업

#### ▶ 모든 서비스 시작
- 모든 백엔드 및 프론트엔드 서비스를 한 번에 시작
- 각 서비스는 **별도의 CMD 창**에서 실행
- **로그를 실시간으로 확인** 가능

**작동 방식**:
1. 버튼 클릭
2. `START_ALL_WINDOWS.bat` 실행
3. 각 서비스별 CMD 창이 팝업
4. 대시보드에서 상태 확인 (5초마다 자동 갱신)

#### ⏹ 모든 서비스 중지
- 실행 중인 모든 Node.js 및 Python 프로세스 종료
- 확인 다이얼로그 표시

**주의**: 이 기능은 **모든** Node.js와 Python 프로세스를 종료합니다.

#### 🗑 캐시 정리
- Vite 프론트엔드 빌드 캐시 삭제
- 다음 위치의 캐시 삭제:
  - `frontend-home/node_modules/.vite`
  - `frontend-prediction/node_modules/.vite`
  - `frontend-training/node_modules/.vite`

### 서비스 상태 카드

각 서비스는 개별 카드로 표시됩니다:

```
┌───────────────────────────────┐
│  🔧  Backend API              │
│  ● Online · 45ms              │
│  ────────────────             │
│  [ ▶ 시작 ] [ API Docs ]      │
│  [ Health Check ]             │
└───────────────────────────────┘
```

#### 상태 표시
- **● Online** (녹색): 정상 작동 중
- **◐ Degraded** (주황색): 접속 가능하나 성능 저하
- **○ Offline** (회색): 서비스 중지

#### 버튼
- **▶ 시작**: 해당 서비스만 CMD 창에서 시작
- **링크 버튼**: 브라우저에서 서비스 페이지 열기

### 시스템 성능 차트

#### CPU 사용률
- 실시간 CPU 사용률 (0-100%)
- 60초 분량의 데이터
- 부드러운 곡선 차트

#### 메모리 사용률
- 실시간 메모리 사용률
- 사용량 / 전체 용량 표시

#### 평균 응답 시간
- 모든 서비스의 평균 응답 시간
- 단위: ms (밀리초)
- 1000ms 이하가 정상

#### 디스크 사용률
- 시스템 디스크 사용률
- 80% 이상 시 주의 필요

---

## 👥 회원 관리 탭

### 대기 중인 회원 승인

```
┌─────────────────────────────────────────────────┐
│  회원 관리                    [ 🔄 새로 고침 ]  │
└─────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────┐
│  john_doe                  [ ] 관리자             │
│  이름: 홍길동 | 이메일: john@example.com          │
│  신청일: 2025-01-15 10:30:00                      │
│                     [ ✓ 승인 ]  [ ✗ 거절 ]        │
└───────────────────────────────────────────────────┘

대기 중인 회원: 1명
```

#### 회원 승인
1. **관리자 체크박스**: 관리자 권한 부여 여부 선택
2. **✓ 승인 버튼**: 회원 가입 승인
3. 확인 다이얼로그 표시
4. 승인 완료 후 목록에서 제거

#### 회원 거절
1. **✗ 거절 버튼**: 회원 가입 거절
2. 거절 사유 입력 (선택사항)
3. 거절 완료 후 목록에서 제거

---

## 🔧 고급 기능

### 프로젝트 폴더 변경

**📁 프로젝트 선택** 버튼을 클릭하여 다른 프로젝트 폴더를 선택할 수 있습니다.

**요구사항**:
- `START_ALL_WINDOWS.bat` 파일이 있어야 함
- 각 서비스의 시작 스크립트 (`run_*.bat`) 필요

### CMD 팝업 모드

#### 왜 백그라운드가 아닌 CMD 팝업인가?

**장점**:
1. **로그 확인 가능**: 각 서비스의 실시간 로그를 직접 확인
2. **개별 제어**: 필요한 서비스만 선택적으로 종료
3. **디버깅 용이**: 오류 발생 시 즉시 확인 가능
4. **투명성**: 백그라운드에 숨겨진 프로세스 없음

#### 사용 방법
1. **▶ 시작** 버튼 클릭
2. CMD 창 자동 팝업
3. 로그 확인
4. CMD 창을 닫아서 서비스 종료

---

## 🎨 디자인 가이드

### 색상 시스템

#### 기본 색상
- **Background**: `#0d1117` (GitHub Dark)
- **Card**: `#21262d`
- **Elevated**: `#2d333b`

#### 상태 색상
- **Success/Online**: `#3fb950` (녹색)
- **Warning/Degraded**: `#d29922` (주황색)
- **Danger/Offline**: `#f85149` (빨간색)
- **Primary**: `#2188ff` (파란색)

#### 텍스트 색상
- **Primary**: `#f0f6fc` (밝은 흰색)
- **Secondary**: `#8b949e` (회색)
- **Tertiary**: `#6e7681` (어두운 회색)

### 타이포그래피
- **Font**: Segoe UI
- **Title**: 20pt Bold
- **Heading**: 16pt Bold
- **Body**: 11pt Regular
- **Caption**: 10pt Regular

---

## 🐛 문제 해결

### 서비스가 시작되지 않음

**증상**: ▶ 버튼을 눌렀지만 CMD 창이 나타나지 않음

**해결 방법**:
1. **프로젝트 폴더 확인**: 📁 버튼으로 올바른 폴더 선택
2. **배치 파일 확인**: `run_*.bat` 파일 존재 여부
3. **권한 확인**: 관리자 권한으로 실행

### 서비스 상태가 Offline으로 표시됨

**증상**: 서비스가 실행 중이지만 ○ Offline으로 표시

**해결 방법**:
1. **포트 확인**: 각 서비스가 올바른 포트에서 실행 중인지 확인
2. **방화벽 확인**: Windows 방화벽이 차단하고 있지 않은지 확인
3. **URL 확인**: `check_url` 설정이 올바른지 확인

### 성능 차트가 표시되지 않음

**증상**: 차트 영역이 비어 있음

**해결 방법**:
1. **psutil 설치 확인**: `pip install psutil`
2. **권한 확인**: 시스템 정보 읽기 권한 필요

### 회원 관리 탭에 오류 표시

**증상**: "회원 목록을 불러올 수 없습니다"

**해결 방법**:
1. **백엔드 실행 확인**: Backend API가 실행 중이어야 함
2. **포트 확인**: `http://localhost:8000` 접속 가능 여부
3. **API 엔드포인트 확인**: `/api/auth/admin/pending-users` 존재 여부

---

## 📝 변경 이력

### v5.0.0 (2025-01-15)
- ✨ **전면 UI 개편**: Material Design 3 + Fluent Design
- ✨ **CMD 팝업 모드**: 백그라운드 대신 CMD 창에서 실행
- ✨ **실시간 차트**: 부드러운 애니메이션 및 60초 데이터
- ✨ **서비스 카드**: 큰 아이콘 및 직관적인 레이아웃
- ✨ **개선된 회원 관리**: 모던한 카드 스타일
- 🔧 **성능 최적화**: 차트 렌더링 개선

### v4.1.0 (2025-10-14)
- 사이버펑크 스타일 UI
- 성능 모니터링 추가
- 로그 뷰어 추가

---

## 🔗 관련 문서

- [빌드 가이드](BUILD_GUIDE.md)
- [개발자 문서](../DEVELOPMENT.md)
- [API 문서](http://localhost:8000/docs)

---

## 💡 팁

### 1. 단축키
- **프로젝트 선택**: `📁 프로젝트 선택` 버튼 사용
- **전체 새로고침**: 프로그램 재시작

### 2. 효율적인 사용
- **선택적 시작**: 필요한 서비스만 개별적으로 시작
- **로그 확인**: CMD 창을 항상 열어두고 로그 모니터링
- **캐시 정리**: 프론트엔드 변경 후 항상 캐시 정리

### 3. 성능 최적화
- **CPU 사용률 80% 이상**: 불필요한 서비스 종료
- **메모리 사용률 90% 이상**: 시스템 재시작 권장
- **디스크 사용률 80% 이상**: 로그 파일 및 캐시 정리

---

## ⚙️ 설정

### 서비스 추가/수정

`scripts/server_monitor_dashboard_v2.py` 파일에서 `SERVICES` 튜플 수정:

```python
SERVICES: Tuple[Service, ...] = (
    Service(
        key="my_service",
        name="My Custom Service",
        icon="🎉",
        check_url="http://localhost:9000/",
        start_command="run_my_service.bat",
        links=(
            ("Local", "http://localhost:9000"),
        ),
    ),
    # ... 기존 서비스들
)
```

### 상태 체크 간격 변경

```python
POLL_INTERVAL_SECONDS = 5.0  # 기본값: 5초
```

---

## 📞 지원

문의사항이나 버그 리포트는 개발팀에게 연락하세요.

- **Email**: dev@example.com
- **GitHub**: github.com/your-repo
- **Slack**: #mcs-dashboard

---

**MCS Server Dashboard v5.0.0**
© 2025 Routing ML Team. All rights reserved.
