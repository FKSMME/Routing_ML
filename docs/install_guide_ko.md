# μ λ€ μ§€λ Ή
1. κ° λ‹¨κ³„λ” μΉμΈ ν›„μ—λ§ μ§„ν–‰ν•λ‹¤.
2. λ‹¨κ³„ μ°©μ μ „ μ΄λ² λ‹¨κ³„ μ „μ²΄ λ²”μ„λ¥Ό λ¦¬λ·°ν•κ³  μ¤λ¥λ¥Ό μ‹λ³„ν•λ‹¤.
3. μ¤λ¥ λ°κ²¬ μ‹ μμ • μ „μ— μΉμΈ μ¬μ”μ²­ν•λ‹¤.
4. μ΄μ „ λ‹¨κ³„ μ¤λ¥κ°€ μ—†μμ„ μ¬ν™•μΈν• λ’¤ λ‹¤μ λ‹¨κ³„ μΉμΈμ„ μ”μ²­ν•λ‹¤.
5. λ¨λ“  λ‹¨κ³„ μ‘μ—…μ€ λ°±κ·ΈλΌμ΄λ“ λ°©μ‹μΌλ΅ μν–‰ν•λ‹¤.
6. λ¬Έμ„/μ›Ήλ·°μ–΄ μ κ²€μ΄ ν•„μ”ν• κ²½μ° λ°λ“μ‹ μΉμΈ ν™•μΈ ν›„ μ§„ν–‰ν•λ‹¤.
7. λ‹¤μ λ‹¨κ³„ μ°©μ μ „μ— μ΄μ „ λ‹¨κ³„ μ „λ°μ„ μ¬μ κ²€ν•μ—¬ λ―Έν•΄κ²° μ¤λ¥κ°€ μ—†λ”μ§€ ν™•μΈν•λ‹¤.

# Routing ML Windows μ„¤μΉ κ°€μ΄λ“ (μ£Όλ‹μ–΄λ„ μ‰½κ²)

## 0. μ§€κΈ ν•΄μ•Ό ν•  μΌ ν•λμ— λ³΄κΈ°
- [ ] μ„¤μΉ νμΌ(`RoutingMLInstaller_<λ²„μ „>.exe`)μ„ κ΄€λ¦¬μ κ¶ν•μΌλ΅ μ‹¤ν–‰ν•λ‹¤.
- [ ] μ„¤μΉ λ§λ²•μ‚¬ μ•λ‚΄λ€λ΅ κΈ°λ³Έ κ²½λ΅ κ·Έλ€λ΅ μ§„ν–‰ν•λ‹¤.
- [ ] μ„¤μΉκ°€ λλ‚λ©΄ μλ™μΌλ΅ λ¨λ” ν™•μΈ μ°½μ—μ„ **μ™„λ£** λ²„νΌμ„ λ„λ¥Έλ‹¤.
- [ ] λΈλΌμ°μ €λ¥Ό μ—΄κ³  `http://localhost:8000/api/health` μ— μ ‘μ†ν•΄ "ok" λ©”μ‹μ§€λ¥Ό ν™•μΈν•λ‹¤.

> π’΅ μ²μλ¶€ν„° μμ„Έν μ•κ³  μ‹¶λ‹¤λ©΄ μ•„λ μμ„λ€λ΅ μ²μ²ν λ”°λΌμ¤μ„Έμ”.

## 1. μ™ μ΄ μ„¤μΉκ°€ ν•„μ”ν•κ°€μ”?
- μµμΆ… μ‚¬μ©μλ” νμ΄μ¬μ„ μ„¤μΉν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤.
- μ΄ μ„¤μΉ νμΌ ν•λ‚λ΅ **λ°±μ—”λ“ μ„λΉ„μ¤**, **μ›Ή ν™”λ©΄**, **ML λ¨λΈ**, **ν•„μ”ν• μ¤ν¬λ¦½νΈ**κ°€ λ¨λ‘ λ“¤μ–΄κ°‘λ‹λ‹¤.
- λ©ν‘: Windows 10/11 64λΉ„νΈ PCμ—μ„ Routing ML μμΈ΅ μ„λΉ„μ¤λ¥Ό λ°”λ΅ μ‹¤ν–‰ν•  μ μλ„λ΅ ν•κΈ°.

## 2. μ„¤μΉ μ „μ— κΌ­ ν™•μΈν•μ„Έμ” (μ²΄ν¬λ¦¬μ¤νΈ)
- [ ] **κ΄€λ¦¬μ κ¶ν•**μ΄ μλ” κ³„μ •μΌλ΅ λ΅κ·ΈμΈν–λ‚μ”?
- [ ] "Microsoft Access Driver (*.mdb, *.accdb)" (64λΉ„νΈ)κ°€ μ„¤μΉλμ–΄ μλ‚μ”?
  - μ—†λ‹¤λ©΄ μ‚¬λ‚΄ μ†ν”„νΈμ›¨μ–΄ μ„Όν„°μ—μ„ `AccessDatabaseEngine_X64.exe`λ¥Ό μ„¤μΉν•μ„Έμ”.
- [ ] νμ‚¬ λ‚΄λ¶€λ§ λλ” VPNμ΄ μ—°κ²°λμ–΄ μλ‚μ”?
- [ ] Windows λ°©ν™”λ²½μ—μ„ ν¬νΈ 8000μ„ ν—μ©ν–λ‚μ”?
  - μ„¤μΉ μ¤‘ μλ™ μ„¤μ •λμ§€λ§, λ§‰ν€ μμΌλ©΄ ITν€μ— μμ™Έ λ“±λ΅μ„ μ”μ²­ν•μ„Έμ”.
- [ ] (μ„ νƒ) μ„¤μΉ νμΌμ— μ‚¬λ‚΄ μ½”λ“ μ„λ… μΈμ¦μ„λ¥Ό μ μ©ν–λ‚μ”?

## 3. μ„¤μΉ νμΌ μ¤€λΉ„ (λΉλ“ λ‹΄λ‹Ήμμ©)
> μ„¤μΉ νμΌμ„ μƒλ΅ λ§λ“¤ λ•λ§ ν•„μ”ν•©λ‹λ‹¤. μ΄λ―Έ λ°›μ€ μ‹¤ν–‰ νμΌμ΄ μλ‹¤λ©΄ μ΄ λ‹¨κ³„λ¥Ό κ±΄λ„λ›°μ„Έμ”.

1. Windows λΉλ“ PCμ—μ„ `pip install -r requirements.txt pyinstaller`λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
2. ν”„λ°νΈμ—”λ“λ¥Ό ν• λ²λ§ μ¤€λΉ„ν•λ©΄ λ©λ‹λ‹¤.
   - `npm install --prefix frontend`
   - `npm run build --prefix frontend`
3. μ•„λ λ…λ ΉμΌλ΅ μ„¤μΉ μμ›μ„ λ¨μλ‹λ‹¤.
   ```powershell
   python deploy/installer/build_windows_installer.py --clean
   ```
   - κ²°κ³Ό: `build/windows/installer` ν΄λ”, `build/windows/RoutingMLInstaller.iss`
4. Inno Setup Compiler(6.x μ΄μƒ)λ΅ `RoutingMLInstaller.iss`λ¥Ό μ—΄μ–΄ λΉλ“ν•©λ‹λ‹¤.
   - κ²°κ³Ό: `build/windows/RoutingMLInstaller_<λ²„μ „>.exe`
5. λΉλ“ λ΅κ·Έλ” `logs/installer_build.log`μ— λ‚¨μµλ‹λ‹¤.

## 4. μ„¤μΉν•κΈ° (μ‚¬μ©μ PC)
1. `RoutingMLInstaller_<λ²„μ „>.exe`λ¥Ό **λ§μ°μ¤ μ¤λ¥Έμ½ β†’ κ΄€λ¦¬μ κ¶ν•μΌλ΅ μ‹¤ν–‰**ν•©λ‹λ‹¤.
2. μ„¤μΉ λ§λ²•μ‚¬ ν™”λ©΄μ€ λ¨λ‘ ν•κΈ€ μ•λ‚΄κ°€ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.
   - κΈ°λ³Έ κ²½λ΅(`C:\Program Files\FKSM\RoutingML`)λ¥Ό μ μ§€ν•λ©΄ μ¶”κ°€ μ„¤μ •μ΄ ν•„μ” μ—†μµλ‹λ‹¤.
   - λ°”λ΅κ°€κΈ°λ‚ μ‹μ‘ λ©”λ‰΄ λ“±λ΅μ€ κΈ°λ³Έκ°’ κ·Έλ€λ΅ λ‘μ–΄λ„ λ©λ‹λ‹¤.
3. μ„¤μΉκ°€ λλ‚λ©΄ μλ™μΌλ΅ PowerShell μ¤ν¬λ¦½νΈκ°€ μ‹¤ν–‰λμ–΄ Windows μ„λΉ„μ¤ `RoutingMLPredictor`κ°€ λ“±λ΅λκ³  μ‹μ‘λ©λ‹λ‹¤.
4. λ§μ§€λ§‰ ν™”λ©΄μ—μ„ **λ΅κ·Έ μ„μΉ**μ™€ **ν…μ¤νΈ κ²°κ³Ό**λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
   - λ΅κ·Έ ν΄λ”: `%APPDATA%\RoutingML\logs`
   - μ„¤μ • νμΌ: `%APPDATA%\RoutingML\config\workflow_settings.json`
5. "μ™„λ£" λ²„νΌμ„ λ„λ¥΄λ©΄ μ„¤μΉκ°€ λ§λ¬΄λ¦¬λ©λ‹λ‹¤.

## 5. μ„¤μΉ ν›„ λ°”λ΅ ν•΄λ³΄λ” μ κ²€
- [ ] μΈν„°λ„· λΈλΌμ°μ €μ—μ„ `http://localhost:8000/api/health`μ— μ ‘μ†ν•΄ μƒνƒκ°€ `ok`μΈμ§€ ν™•μΈν•λ‹¤.
- [ ] `http://localhost:8000/api/workflow/graph`μ— μ ‘μ†ν•΄ JSON κµ¬μ΅°κ°€ λ³΄μ΄λ”μ§€ ν™•μΈν•λ‹¤.
- [ ] μ›ν¬ν”λ΅μ° UIμ—μ„ **SAVE** λ²„νΌμ„ λλ¬λ³΄κ³  μ„¤μ • νμΌμ μμ • μ‹κ°„μ΄ λ°”λ€λ”μ§€ ν™•μΈν•λ‹¤.
- [ ] μƒν” ν’λ©μΌλ΅ `/api/predict`λ¥Ό νΈμ¶ν•΄ 3~4κ°μ λΌμ°ν… μ μ•μ΄ λ‚μ¤λ”μ§€ ν™•μΈν•λ‹¤.
- [ ] `models/tb_projector/` ν΄λ”μ— TensorBoard νμΌ(`projector_config.json` λ“±)μ΄ μλ”μ§€ ν™•μΈν•λ‹¤.

## 6. λ¬Έμ κ°€ μƒκ²Όλ‚μ”?
μμ£Ό λ‚μ¤λ” λ¬Έμ λ” μ•„λ ν‘λ¥Ό μ°Έκ³ ν•μ„Έμ”. κ° ν•­λ©μ€ κ°„λ‹¨ν• μ–Έμ–΄λ΅ μ •λ¦¬ν–μµλ‹λ‹¤.

| μ¦μƒ | λΉ λ¥Έ ν•΄κ²° λ°©λ²• |
| --- | --- |
| μ„λΉ„μ¤κ°€ λ°”λ΅ λ©μ¶λ‹¤ | `%APPDATA%\RoutingML\logs`μ—μ„ `install_service.log`λ¥Ό μ—΄μ–΄ μ¤λ¥ λ©”μ‹μ§€λ¥Ό ν™•μΈν•κ³ , `install_service.ps1 -RemoveOnly`λ΅ μ‚­μ  ν›„ λ‹¤μ‹ μ‹¤ν–‰ν•©λ‹λ‹¤. |
| 8000 ν¬νΈλ¥Ό λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨μ΄ μ“°κ³  μλ‹¤ | `netstat -ano | findstr :8000`μΌλ΅ μ‚¬μ© μ¤‘μΈ ν”„λ΅κ·Έλ¨μ„ ν™•μΈν•κ³  μΆ…λ£ν•κ±°λ‚, `install_service.ps1 -Port 8050`μΌλ΅ μƒ ν¬νΈλ¥Ό μ§€μ •ν•΄ λ‹¤μ‹ λ“±λ΅ν•©λ‹λ‹¤. |
| DB μ—°κ²°μ΄ λμ§€ μ•λ”λ‹¤ | `verify_odbc.ps1`λ¥Ό μ‹¤ν–‰ν•΄ λ“λΌμ΄λ²„ μ„¤μΉ μƒνƒλ¥Ό ν™•μΈν•κ³ , ν•„μ”ν•λ©΄ Access ODBC λ“λΌμ΄λ²„λ¥Ό λ‹¤μ‹ μ„¤μΉν•©λ‹λ‹¤. |
| λ¨λΈμ„ λ» μ°Ύλ”λ‹¤ | μ„¤μΉ ν΄λ”μ `models` μ•μ— μµμ‹  λ¨λΈ νμΌ(`training_metadata.json` λ“±)μ„ λ³µμ‚¬ν• λ’¤ μ„λΉ„μ¤λ¥Ό μ¬μ‹μ‘ν•©λ‹λ‹¤. |
| TensorBoard μλ£κ°€ μ—†λ‹¤ | νΈλ μ΄λ„ μ„λΉ„μ¤λ¥Ό ν• λ² μ‹¤ν–‰ν•΄ μµμ‹  μ„λ² λ”©μ„ λ‹¤μ‹ λ§λ“¤κ³ , `post_install_test.ps1` λ΅κ·Έμ— κ²½κ³ κ°€ μ—†λ”μ§€ ν™•μΈν•©λ‹λ‹¤. |

λ” λ§μ€ ν•΄κ²° λ°©λ²•μ€ μ•„λ `λ¬Έμ  ν•΄κ²° κ°€μ΄λ“` λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## 7. μ‚­μ (λ΅¤λ°±)ν•λ ¤λ©΄
1. μ μ–΄ν β†’ ν”„λ΅κ·Έλ¨ β†’ Routing ML β†’ μ κ±°λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
2. μ κ±° λ§λ²•μ‚¬κ°€ Windows μ„λΉ„μ¤λ¥Ό μλ™μΌλ΅ μ κ±°ν•©λ‹λ‹¤.
3. λ‚¨μ€ νμΌμ΄ μμΌλ©΄ `%APPDATA%\RoutingML` ν΄λ”λ¥Ό μλ™μΌλ΅ μ‚­μ ν•©λ‹λ‹¤.

## 8. λ°°ν¬ μ •μ±… μ”μ•½
- [ ] μ•ν β†’ λ² νƒ€ β†’ μ •μ‹(GA) μμ„λ΅ μ§„ν–‰ν•κ³ , κ° λ‹¨κ³„λ§λ‹¤ QA μ²΄ν¬λ¦¬μ¤νΈμ™€ μ„¤μΉ λ΅κ·Έλ¥Ό JIRAμ— μ²¨λ¶€ν•©λ‹λ‹¤.
- [ ] μ„¤μΉ νμΌμ€ μ‚¬λ‚΄ λ°°ν¬ ν¬ν„Έ(NAS λλ” SCCM)μ— μ¬λ¦¬κ³ , ν•¨κ» μ κ³µλ SHA256 ν•΄μ‹κ°’μΌλ΅ μ„λ³€μ΅° μ—¬λ¶€λ¥Ό ν™•μΈν•©λ‹λ‹¤.
- [ ] μƒ λ²„μ „μ„ λ°°ν¬ν•  λ•λ” κΈ°μ΅΄ λ²„μ „μ„ `backup/` ν΄λ”μ— μ®κ²¨ λ‘κ³ , ν•„μ”ν•λ©΄ `update.bat` μ¤ν¬λ¦½νΈλ΅ λ®μ–΄μ”λ‹λ‹¤.

## 9. μ¶”κ°€ μ°Έκ³  μλ£
- PowerShell μ¤ν¬λ¦½νΈ μ”μ•½: `deploy/installer/scripts/` ν΄λ” μ°Έμ΅°
- SQL μ»¬λΌ λ§¤ν•‘ ν…ν”λ¦Ώ: `config/sql_profiles/access_7_1.json`
- μƒμ„Έ μ¥μ•  λ€μ‘: `docs/TROUBLESHOOTING.md`
