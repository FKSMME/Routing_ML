# PRD – Home 대시보드 근거 문구 및 금일 라우팅 현황 연동

## Executive Summary
- Home 프론트엔드 상단 4개 대시보드 카드에 수치의 근거를 명확히 표기하여 사용자 신뢰도를 높인다.
- `dbo_ROUTING_HISTORY` 뷰를 활용해 금일(현지 날짜 기준) 등록/접수된 품목 수를 대시보드에 자동 반영한다.

## Problem Statement
- 현재 상단 카드의 수치가 어떤 기준과 출처에 기반하는지 명시되지 않아 사용자 혼란이 발생한다.
- 금일 라우팅 현황 카드가 정적 값 또는 구형 API를 사용하여 최신 실적을 반영하지 못한다.

## Goals and Objectives
- 각 카드 하단에 1줄 근거 문구를 추가해 수치 출처·계산방식을 설명한다.
- 당일 라우팅 건수를 백엔드 API 또는 직접 쿼리를 통해 가져와 자동 갱신한다.
- UI/데이터 변경이 기존 워크플로에 미치는 영향을 최소화하며 린트/테스트를 통과한다.

## Requirements
1. 상단 4개 카드 각각에 대해:
   - 수치 설명용 보조 텍스트(최대 2줄, 기본 1줄)를 카드 내부 하단에 추가.
   - 텍스트는 Tailwind/디자인 시스템 토큰을 활용한 소형(예: `text-xs`, `text-muted` 계열) 스타일 적용.
2. 보조 텍스트 컨텐츠:
   - 카드 1: "전일 대비 집계된 학습 모델 상태"
   - 카드 2: "실행 완료 훈련 작업 수 기준"
   - 카드 3: "품질 경고 알림 개수 (실시간)"
   - 카드 4: "금일 등록·접수 라우팅 수 (dbo_ROUTING_HISTORY)"
   - 필요 시 실제 카드 목적에 맞게 조정 (UI 파일 분석 후 확정).
3. 금일 라우팅 현황 데이터 소스:
   - `dbo_ROUTING_HISTORY` 뷰에서 `created_at` 또는 `received_at`이 현재 날짜(서버 TZ 기준)를 만족하는 레코드 수.
   - 기존 백엔드 API 존재 여부 확인: 있으면 활용, 없으면 신규 엔드포인트/쿼리 추가.
   - API 응답 구조는 프론트에서 쉽게 소비 가능하도록 간단한 JSON (`{ todayRoutingCount: number }` 등).
4. 프론트는 React Query/상태 관리 기준으로 데이터 패칭.
5. 문구/데이터 변경 후 ESLint/TypeScript 오류 없이 빌드 가능.

## Phase Breakdown
- **Phase 1 – Plan & Docs**: PRD, 체크리스트 작성.
- **Phase 2 – UI 문구 확정 및 구현**: 카드 구조 파악, 근거 문구 추가.
- **Phase 3 – 데이터 연동**: 백엔드 또는 공유 모듈 수정, 프론트 데이터 패칭, 테스트.
- **Phase 4 – QA & 검증**: 린트/테스트, 수동 확인, 문서 업데이트.

## Success Criteria
- 상단 카드 UI가 디자인 가이드에 맞게 보조 문구를 표시한다.
- 금일 라우팅 수치가 실제 DB 기준으로 자동 업데이트되며, QA 시 SQL 결과와 일치한다.
- 프론트 lint/test 통과, 필요한 경우 백엔드 테스트도 통과.
- 체크리스트의 모든 항목 완료, PRD 반영 내용 충족.

## Timeline Estimates
- Phase 2: 3시간 (UI 분석 및 문구 적용)
- Phase 3: 4시간 (API 확인/구현 + 프론트 연동)
- Phase 4: 1시간 (검증 & 문서화)
- 전체: 약 8시간
