# 알고리즘 시각화 기능 체크리스트

**작성일:** 2025-10-07
**담당자:** Claude AI
**목표:** 언리얼 블루프린트/OpenAI Agent Kit 스타일의 알고리즘 시각화 구현

---

## 📋 요구사항 요약

**비교 대상:**
- 언리얼 엔진 블루프린트 (Blueprint)
- OpenAI Agent Kit

**핵심 기능:**
1. 좌측: 파일 선택 박스 (세로 배열)
2. 우측: 노드 & 와이어 캔버스
3. 노드 위치 드래그 앤 드롭 + 저장
4. 노드 더블클릭 → 함수/클래스 정보 팝업
5. 모든 파일의 함수/Workflow 시각화
6. 와이어 연결/해제 (관리자 전용)
7. 기존 디자인 유지

---

## ✅ 체크리스트

### Phase 1: 기본 UI 구조 (좌측 패널 + 우측 캔버스)

- [ ] **1.1 좌측 파일 선택 패널 (20% 너비)**
  - [ ] 훈련/예측 관련 Python 파일 목록 표시
  - [ ] 세로 박스 형태 UI
  - [ ] 파일 선택 시 우측 캔버스 업데이트
  - [ ] 검색/필터 기능
  - [ ] 파일 타입별 아이콘 표시

- [ ] **1.2 우측 노드 캔버스 (80% 너비)**
  - [ ] 무한 스크롤 캔버스 영역
  - [ ] 줌 인/아웃 기능
  - [ ] 팬(Pan) 기능 (손바닥 도구)
  - [ ] 그리드 배경 (옵션)
  - [ ] 미니맵 (옵션)

### Phase 2: 노드 시각화 엔진

- [ ] **2.1 노드 렌더링**
  - [ ] 함수 노드 (파란색 계열)
  - [ ] 클래스 노드 (녹색 계열)
  - [ ] 입력/출력 포트 표시
  - [ ] 노드 제목 (함수/클래스명)
  - [ ] 노드 설명 (docstring 요약)
  - [ ] 파라미터 타입 표시

- [ ] **2.2 와이어 렌더링**
  - [ ] 베지어 곡선 와이어
  - [ ] 데이터 흐름 방향 표시 (화살표)
  - [ ] 와이어 색상 (데이터 타입별)
  - [ ] 호버 시 하이라이트
  - [ ] 실행 경로 강조 (옵션)

### Phase 3: 인터랙션 기능

- [ ] **3.1 노드 드래그 앤 드롭**
  - [ ] 노드 클릭 & 드래그
  - [ ] 다중 선택 (Shift/Ctrl + 클릭)
  - [ ] 그룹 이동
  - [ ] 충돌 방지 (스냅 그리드)
  - [ ] 위치 변경 시 실시간 업데이트

- [ ] **3.2 노드 위치 저장**
  - [ ] 사용자별 레이아웃 저장
  - [ ] JSON 형식으로 DB/파일 저장
  - [ ] 자동 저장 (3초 debounce)
  - [ ] "저장" 버튼 (수동)
  - [ ] "초기화" 버튼 (기본 레이아웃)

- [ ] **3.3 노드 더블클릭 → 정보 팝업**
  - [ ] 함수명/클래스명
  - [ ] 파일 경로 및 라인 번호
  - [ ] 전체 소스 코드
  - [ ] 파라미터 리스트
  - [ ] 반환값 타입
  - [ ] Docstring
  - [ ] 현재 실행 값 (런타임 시)
  - [ ] "코드로 이동" 버튼

### Phase 4: 와이어 연결/해제 (관리자 전용)

- [ ] **4.1 와이어 연결**
  - [ ] 출력 포트에서 드래그 시작
  - [ ] 입력 포트에 드롭하여 연결
  - [ ] 타입 체크 (호환성 검증)
  - [ ] 연결 애니메이션
  - [ ] 순환 참조 방지

- [ ] **4.2 와이어 해제**
  - [ ] 와이어 우클릭 → "삭제"
  - [ ] 포트 우클릭 → "모든 연결 해제"
  - [ ] Undo/Redo 지원
  - [ ] 변경 이력 로그

- [ ] **4.3 권한 제어**
  - [ ] 관리자 전용 편집 모드
  - [ ] 일반 사용자: 읽기 전용
  - [ ] 편집 모드 토글 버튼
  - [ ] 변경사항 승인 워크플로우 (옵션)

### Phase 5: Python 파일 분석 엔진

- [ ] **5.1 AST (Abstract Syntax Tree) 파싱**
  - [ ] Python `ast` 모듈 사용
  - [ ] 함수 정의 추출
  - [ ] 클래스 정의 추출
  - [ ] 함수 호출 관계 분석
  - [ ] Import 의존성 분석

- [ ] **5.2 노드/와이어 데이터 생성**
  - [ ] 함수 → 노드 변환
  - [ ] 함수 호출 → 와이어 변환
  - [ ] 자동 레이아웃 (Dagre/Elk)
  - [ ] 계층 구조 유지
  - [ ] 순환 참조 탐지

- [ ] **5.3 실시간 업데이트**
  - [ ] 파일 변경 감지 (File Watcher)
  - [ ] 자동 재분석 (Debounced)
  - [ ] 증분 업데이트 (변경된 부분만)
  - [ ] WebSocket 푸시 (다중 사용자)

### Phase 6: 통합 및 최적화

- [ ] **6.1 기존 디자인 유지**
  - [ ] 현재 색상 테마 유지
  - [ ] 다크 모드 대응
  - [ ] 기존 Header/Nav 유지
  - [ ] 반응형 레이아웃

- [ ] **6.2 성능 최적화**
  - [ ] 가상 렌더링 (대규모 노드)
  - [ ] WebGL/Canvas 렌더링
  - [ ] 노드 클러스터링
  - [ ] 레이지 로딩

- [ ] **6.3 사용성 개선**
  - [ ] 튜토리얼 오버레이
  - [ ] 키보드 단축키
  - [ ] 컨텍스트 메뉴
  - [ ] 검색 기능 (노드 찾기)
  - [ ] 북마크 기능

---

## 🛠 기술 스택 제안

### 프론트엔드
- **시각화 라이브러리:**
  - [React Flow](https://reactflow.dev/) - React 기반 노드 에디터 (추천 ⭐)
  - [Rete.js](https://rete.js.org/) - 범용 노드 에디터
  - [jsPlumb](https://jsplumbtoolkit.com/) - 와이어링 라이브러리

- **레이아웃 엔진:**
  - [Dagre](https://github.com/dagrejs/dagre) - 계층적 그래프 레이아웃
  - [ELK](https://www.eclipse.org/elk/) - Eclipse 레이아웃 커널

- **UI 컴포넌트:**
  - 기존 Tailwind CSS 유지
  - Lucide React 아이콘

### 백엔드
- **파일 분석:**
  - Python `ast` 모듈
  - `astroid` (더 강력한 분석)

- **API:**
  - FastAPI endpoint: `/api/algorithm/analyze`
  - `/api/algorithm/layout/save`
  - `/api/algorithm/layout/load`

- **저장소:**
  - PostgreSQL (레이아웃 데이터)
  - Redis (실시간 캐시)

---

## 📦 구현 단계별 일정

### Week 1: Phase 1-2 (기본 UI + 노드 렌더링)
- Day 1-2: 좌측 패널 + 우측 캔버스 레이아웃
- Day 3-4: React Flow 통합
- Day 5: 기본 노드/와이어 렌더링

### Week 2: Phase 3 (인터랙션)
- Day 1-2: 드래그 앤 드롭
- Day 3: 위치 저장 기능
- Day 4-5: 노드 정보 팝업

### Week 3: Phase 4-5 (와이어 편집 + 파일 분석)
- Day 1-2: 와이어 연결/해제
- Day 3-4: Python AST 파싱
- Day 5: 노드 데이터 생성

### Week 4: Phase 6 (통합 + 최적화)
- Day 1-2: 성능 최적화
- Day 3-4: 사용성 개선
- Day 5: QA 및 문서화

---

## 🎯 성공 기준

- [ ] 모든 훈련/예측 Python 파일 분석 가능
- [ ] 100개 이상 노드 렌더링 시 60 FPS 유지
- [ ] 노드 위치 변경 후 새로고침해도 유지
- [ ] 노드 더블클릭 시 1초 이내 팝업 표시
- [ ] 와이어 연결 후 실시간 반영 (500ms 이내)
- [ ] 다크 모드에서 모든 요소 가독성 확보
- [ ] 모바일에서도 읽기 모드 지원

---

## 📝 참고 자료

- [React Flow Documentation](https://reactflow.dev/learn)
- [Unreal Engine Blueprint](https://docs.unrealengine.com/5.0/en-US/blueprints-visual-scripting-in-unreal-engine/)
- [OpenAI Agent Kit](https://platform.openai.com/docs/agents)
- [Python AST Module](https://docs.python.org/3/library/ast.html)
- [Dagre Layout Algorithm](https://github.com/dagrejs/dagre/wiki)

---

**작성 완료:** 2025-10-07 11:40 UTC
**다음 단계:** Phase 1 구현 시작
